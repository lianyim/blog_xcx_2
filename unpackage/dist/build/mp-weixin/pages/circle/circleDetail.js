(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/circle/circleDetail"],{"011e":function(t,e,i){"use strict";var n=i("9a61"),o=i.n(n);o.a},7447:function(t,e,i){"use strict";i.r(e);var n=i("ff0f"),o=i.n(n);for(var c in n)["default"].indexOf(c)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(c);e["default"]=o.a},"77f5":function(t,e,i){"use strict";(function(t){var e=i("4ea4");i("8cfb");e(i("66fd"));var n=e(i("b990"));wx.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i("543d")["createPage"])},"9a61":function(t,e,i){},b990:function(t,e,i){"use strict";i.r(e);var n=i("ecc6"),o=i("7447");for(var c in o)["default"].indexOf(c)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(c);i("011e");var r=i("f0c5"),a=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=a.exports},ecc6:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},o=[]},ff0f:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("253c")),c={data:function(){return{pageNum:1,pageSize:10,total:0,isJoin:!1,circle:{},trendsList:[]}},onShow:function(){},onLoad:function(t){this.getCircle(t.id),this.queryTrends(1,10,t.id)},onReachBottom:function(){console.log("1"),10*this.pageNum<this.total&&(this.pageNum++,this.queryTrends(this.pageNum,this.pageSize,this.circle.id))},onPullDownRefresh:function(){this.trendsList=[],this.pageNum=1,this.pageSize=10,this.total=0,this.getCircle(this.circle.id),this.queryTrends(1,10,this.circle.id),t.stopPullDownRefresh()},methods:{getCircle:function(e){var i=this;o.default.getCircle({id:e}).then((function(e){0==e.code?(i.circle=e.data,i.isLink(e.data.id)):t.showToast({title:e.msg,icon:"error"})}))},queryTrends:function(t,e,i){var n=this;o.default.queryTrends({page:t,limit:e,circleId:i,orderField:"create_date",order:"desc"}).then((function(t){n.trendsList=n.trendsList.concat(t.data.list),n.total=t.data.total}))},toTrendsDetail:function(e){t.navigateTo({url:"/pages/trends/detail?id=".concat(e.id)})},toUser:function(e){t.navigateTo({url:"/pages/my/user?userId=".concat(e)})},previewImage:function(e,i){t.previewImage({current:e[i],urls:e})},share:function(){t.showToast({title:"功能完善中",icon:"none"})},toPageByUrl:function(e){t.navigateTo({url:"".concat(e)})},toAddTrends:function(){this.isJoin?t.navigateTo({url:"/pages/trends/add?circleId=".concat(this.circle.id)}):t.showToast({title:"请先加入圈子",icon:"none"})},joinIn:function(e){var i=this;o.default.addMyLink({sourceId:e,category:"2",status:"0"}).then((function(e){10020!=e.code&&10021!=e.code?0==e.code?(i.isLink(i.circle.id),i.isJoin=!0):t.showToast({title:e.msg,icon:"error"}):t.showToast({title:"未登录",icon:"error"})}))},joinOut:function(e){var i=this;o.default.updateMyLink({sourceId:e,category:"2",status:"1"}).then((function(e){10020!=e.code&&10021!=e.code?0==e.code?(i.isLink(i.circle.id),i.isJoin=!1):t.showToast({title:e.msg,icon:"error"}):t.showToast({title:"未登录",icon:"error"})}))},isLink:function(t){var e=this;o.default.isLink({sourceId:t,category:"2"}).then((function(t){0==t.code&&(e.isJoin=t.data)}))}}};e.default=c}).call(this,i("543d")["default"])}},[["77f5","common/runtime","common/vendor"]]]);