(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/editInfo"],{"0e75":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=o(n("253c")),c={created:function(){i=this},data:function(){return{phone:"",sex:"",headUrl:"",userInfo:{},sexList:["男","女"]}},onLoad:function(e){this.getUserInfo(),this.phone=e.phone},onShow:function(){},methods:{uploadHeadUrl:function(){e.chooseImage({count:1,sizeType:["original","compressed"],success:function(t){console.log(t);for(var n=t.tempFiles,o=0;o<n.length;o++)if(n[o].size>10458760)return void e.showToast({title:"图片过大",icon:"error"});e.showLoading({title:"上传中"}),s.default.uploadPic(t.tempFilePaths).then((function(t){console.log(t),i.headUrl=t[0],e.hideLoading(),e.showToast({title:"上传成功",icon:"success"})}))}})},chooseSex:function(){e.showActionSheet({itemList:this.sexList,success:function(e){i.sex=0===e.tapIndex?"男":"女"},fail:function(e){console.log(e.errMsg)}})},save:function(){this.userInfo.mobile=this.phone,this.userInfo.sex=this.sex,this.userInfo.headUrl=this.headUrl,s.default.editUserInfo(this.userInfo).then((function(t){if(10020==t.code||10021==t.code)return e.showToast({title:"未登录",icon:"error"}),void setTimeout((function(){e.navigateBack({delta:1})}),1e3);0==t.code?(e.showToast({title:"保存成功",icon:"success"}),setTimeout((function(){e.navigateBack({delta:1})}),1e3)):e.showToast({title:t.msg,icon:"error"})}))},getUserInfo:function(){var t=this;s.default.userInfo({}).then((function(n){10020!=n.code&&10021!=n.code&&(0==n.code?(t.userInfo=n.data,t.headUrl=n.data.headUrl,t.sex=n.data.sex):e.showToast({title:n.msg,icon:"error"}))}))}}};t.default=c}).call(this,n("543d")["default"])},3159:function(e,t,n){"use strict";n.r(t);var o=n("a6db"),i=n("f56e");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("3555");var c=n("f0c5"),a=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=a.exports},3555:function(e,t,n){"use strict";var o=n("8186"),i=n.n(o);i.a},"3fdc":function(e,t,n){"use strict";(function(e){var t=n("4ea4");n("8cfb");t(n("66fd"));var o=t(n("3159"));wx.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("543d")["createPage"])},8186:function(e,t,n){},a6db:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement;this._self._c},i=[]},f56e:function(e,t,n){"use strict";n.r(t);var o=n("0e75"),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=i.a}},[["3fdc","common/runtime","common/vendor"]]]);